!function(t){function i(t,i){this.element=i,this.data=jQuery.extend(!0,e,t),this.init()}var e={size:60,borderSize:10,colorCircle:"gray",background:"white",fontFamily:"sans-serif",fontColor:"#333333",fontSize:16,delayToFadeIn:0,delayToFadeOut:0,reverseLoading:!1,reverseRotation:!1,duration:{hours:0,minutes:0,seconds:10},beforeStart:function(){},end:function(){}};t.fn.circularCountDown=function(e){new i(e,t(this))},i.prototype={init:function(){this.formatData(),this.draw(),this.start()},start:function(){"function"==typeof this.data.beforeStart&&this.data.beforeStart(this),this.show(),this.starDecrementTimeEvent();var t=this.getFormattedTimeByCircle();this.animate(t)},animate:function(t){var i=this;i.data.reverseLoading?i.rotate(i.circlelRight,180,360,t,function(){i.wrapperCircles.css("clip","rect(0px, "+i.data.size/2+"px, "+i.data.size+"px, 0px)"),i.rotate(i.circlelLeft,0,180,t),i.rotate(i.circlelRight,0,180,t)}):(i.wrapperCircles.css("clip","rect(0px, "+i.data.size+"px, "+i.data.size+"px, "+i.data.size/2+"px)"),i.rotate(i.circlelRight,0,180,t,function(){i.wrapperCircles.css("clip","rect(auto, auto, auto, auto)"),i.rotate(i.circlelLeft,180,360,t)}))},formatData:function(){this.time=this.data.duration.seconds+60*this.data.duration.minutes+3600*this.data.duration.hours,this.data.size=parseInt(this.data.size),this.data.borderSize=parseInt(this.data.borderSize),this.data.borderSize%2!=0&&this.data.borderSize++,this.data.size%2!=0&&this.data.size++},draw:function(){this.hide(),this.circlelLeft=this.drawCircle().addClass("coutndown-circle-left"),this.circlelRight=this.drawCircle().addClass("coutndown-circle-right"),this.wrapperCircles=t("<div>").addClass("coutndown-wrapper").css({width:this.data.size+"px",height:this.data.size+"px",position:"absolute"}).append(this.circlelLeft).append(this.circlelRight),this.wrapperTime=this.drawTime(),this.element.css({position:"relative","box-sizing":"content-box"}).append(this.wrapperCircles).append(this.wrapperTime),this.setTime(this.getStringTime(this.time))},drawCircle:function(){var i=this.data.size-2*this.data.borderSize;return i+="px",t("<div>").addClass("coutndown-circle").css({width:i,height:i,border:this.data.borderSize+"px solid "+this.data.colorCircle,"-moz-border-radius":this.data.size+"px","-webkit-border-radius":this.data.size+"px","-o-border-radius":this.data.size+"px","-ms-border-radius":this.data.size+"px","border-radius":this.data.size+"px","box-sizing":"content-box","background-color":this.data.background,position:"absolute",clip:"rect(0px, "+this.data.size/2+"px, "+this.data.size+"px, 0px)"})},rotate:function(i,e,a,s,r){t({deg:e}).animate({deg:a},{duration:s,easing:"linear",step:function(t){i.css({"-moz-transform":"rotate("+t+"deg)","-webkit-transform":"rotate("+t+"deg)","-o-transform":"rotate("+t+"deg)","-ms-transform":"rotate("+t+"deg)",transform:"rotate("+t+"deg)"})},complete:r||t.noop})},hide:function(){this.element.fadeOut(this.data.delayToFadeOut),this.visible=!1},show:function(){this.element.fadeIn(this.data.delayToFadeIn),this.visible=!0},isVisible:function(){return this.visible},getStringTime:function(t){var i=this.secondsToTime(t);return i.h>0?this.addDigit(i.h)+":"+this.addDigit(i.m)+":"+this.addDigit(i.s):i.m>0?this.addDigit(i.m)+":"+this.addDigit(i.s):this.addDigit(i.s)},addDigit:function(t){return("0"+t).slice(-2)},secondsToTime:function(t){var i=Math.floor(t/3600),e=t%3600,a=Math.floor(e/60),s=e%60,r=Math.ceil(s);return{h:i,m:a,s:r}},getFormattedTimeByCircle:function(){var t=this.time/2*1e3;return t%2!=0&&t++,t},starDecrementTimeEvent:function(){var t=this;this.decrementTimeEvent=setInterval(function(){t.time-=1,t.setTime(t.getStringTime(t.time)),t.time<=0&&(t.time=0,t.stopDecrementTimeEvent(),"function"==typeof t.data.end&&t.data.end(t))},1e3)},stopDecrementTimeEvent:function(){clearInterval(this.decrementTimeEvent)},drawTime:function(){return t("<div>").addClass("coutndown-wrapper-time").css({position:"absolute",height:this.data.size+"px",width:this.data.size+"px","line-height":this.data.size+"px","text-align":"center","font-size":this.data.fontSize+"px","font-family":this.data.fontFamily,color:this.data.fontColor})},setTime:function(t){this.wrapperTime.html(t)},destroy:function(){this.hide(),this.element.html("").attr("style",null),this.circlelLeft=null,this.circlelRight=null,this.wrapperCircles=null,this.element=null,this.data=e}}}(jQuery);
